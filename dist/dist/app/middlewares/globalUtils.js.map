{"version":3,"sources":["../../../app/middlewares/globalUtils.js"],"names":["_arangojs","require","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","db","Database","url","useBasicAuth","globalUtils","_this","_ref","regeneratorRuntime","mark","_callee","ctx","next","wrap","_callee$","_context","prev","jwtSecret","stop","_x","_x2","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,YAAYC,QAAQ,UAAR,CAAhB;;AAEA,SAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAAE,SAAO,YAAY;AAAE,QAAIC,MAAMD,GAAGE,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAV,CAAqC,OAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAAE,eAASC,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwB;AAAE,YAAI;AAAE,cAAIC,OAAOT,IAAIO,GAAJ,EAASC,GAAT,CAAX,CAA0B,IAAIE,QAAQD,KAAKC,KAAjB;AAAyB,SAAzD,CAA0D,OAAOC,KAAP,EAAc;AAAEN,iBAAOM,KAAP,EAAe;AAAS,SAAC,IAAIF,KAAKG,IAAT,EAAe;AAAER,kBAAQM,KAAR;AAAiB,SAAlC,MAAwC;AAAE,iBAAOP,QAAQC,OAAR,CAAgBM,KAAhB,EAAuBG,IAAvB,CAA4B,UAAUH,KAAV,EAAiB;AAAEJ,iBAAK,MAAL,EAAaI,KAAb;AAAsB,WAArE,EAAuE,UAAUI,GAAV,EAAe;AAAER,iBAAK,OAAL,EAAcQ,GAAd;AAAqB,WAA7G,CAAP;AAAwH;AAAE,OAAC,OAAOR,KAAK,MAAL,CAAP;AAAsB,KAAjW,CAAP;AAA4W,GAAta;AAAya;;AAE1c,IAAIS,KAAK,IAAInB,UAAUoB,QAAd,CAAuB;AAC9B;AACAC,OAAK;AAFyB,CAAvB,CAAT;;AAKAF,GAAGG,YAAH,CAAgB,MAAhB,EAAwB,kBAAxB;;AAEA,SAASC,WAAT,GAAuB;AACrB,MAAIC,QAAQ,IAAZ;;AAEA,SAAO,YAAY;AACjB,QAAIC,OAAOvB,mBAAmB,aAAawB,mBAAmBC,IAAnB,CAAwB,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;AAC7F,aAAOJ,mBAAmBK,IAAnB,CAAwB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AACzD,eAAO,CAAP,EAAU;AACR,kBAAQA,SAASC,IAAT,GAAgBD,SAASH,IAAjC;AACE,iBAAK,CAAL;AACED,kBAAIV,EAAJ,GAASA,EAAT;AACAU,kBAAIM,SAAJ,GAAgB,cAAhB;AACAF,uBAASH,IAAT,GAAgB,CAAhB;AACA,qBAAOA,MAAP;;AAEF,iBAAK,CAAL;AACA,iBAAK,KAAL;AACE,qBAAOG,SAASG,IAAT,EAAP;AATJ;AAWD;AACF,OAdM,EAcJR,OAdI,EAcKJ,KAdL,CAAP;AAeD,KAhB0C,CAAhC,CAAX;;AAkBA,WAAO,UAAUa,EAAV,EAAcC,GAAd,EAAmB;AACxB,aAAOb,KAAKpB,KAAL,CAAW,IAAX,EAAiBC,SAAjB,CAAP;AACD,KAFD;AAGD,GAtBM,EAAP;AAuBD;;AAEDiC,OAAOC,OAAP,GAAiBjB,WAAjB;AACA","file":"globalUtils.js","sourcesContent":["'use strict';\n\nvar _arangojs = require('arangojs');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar db = new _arangojs.Database({\n  // url: 'http://localhost:8529',\n  url: 'http://cos.mjshika.xyz/db/users'\n});\n\ndb.useBasicAuth('root', 'mysecretpassword');\n\nfunction globalUtils() {\n  var _this = this;\n\n  return function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx, next) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ctx.db = db;\n              ctx.jwtSecret = 'HelloWorld99';\n              _context.next = 4;\n              return next();\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\n\nmodule.exports = globalUtils;\n//# sourceMappingURL=globalUtils.js.map"]}