{"version":3,"sources":["../../../app/middlewares/responseHandler.js"],"names":["statusCodes","CONTINUE","OK","CREATED","ACCEPTED","NO_CONTENT","BAD_REQUEST","UNAUTHORIZED","FORBIDDEN","NOT_FOUND","REQUEST_TIMEOUT","UNPROCESSABLE_ENTITY","INTERNAL_SERVER_ERROR","NOT_IMPLEMENTED","BAD_GATEWAY","SERVICE_UNAVAILABLE","GATEWAY_TIME_OUT","responseHandler","ctx","next","res","success","data","message","status","body","fail","code","error","ok","created","accepted","noContent","badRequest","unauthorized","forbidden","notFound","requestTimeout","unprocessableEntity","internalServerError","notImplemented","badGateway","serviceUnavailable","gatewayTimeOut","module","exports"],"mappings":"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","file":"responseHandler.js","sourcesContent":["/**\n * HTTP Status codes\n */\nconst statusCodes = {\n  CONTINUE: 100,\n  OK: 200,\n  CREATED: 201,\n  ACCEPTED: 202,\n  NO_CONTENT: 204,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  REQUEST_TIMEOUT: 408,\n  UNPROCESSABLE_ENTITY: 422,\n  INTERNAL_SERVER_ERROR: 500,\n  NOT_IMPLEMENTED: 501,\n  BAD_GATEWAY: 502,\n  SERVICE_UNAVAILABLE: 503,\n  GATEWAY_TIME_OUT: 504,\n};\n\nfunction responseHandler() {\n  return async (ctx, next) => {\n    ctx.res.statusCodes = statusCodes;\n    ctx.statusCodes = ctx.res.statusCodes;\n\n    ctx.res.success = (data = null, message = null) => {\n      ctx.status = ctx.status < 400 ? ctx.status : statusCodes.OK;\n      ctx.body = { status: 'success', data, message };\n    };\n\n    ctx.res.fail = (code = null, message = null, data = null) => {\n      ctx.status = ctx.status >= 400 && ctx.status < 500\n        ? ctx.status\n        : statusCodes.BAD_REQUEST;\n      ctx.body = {\n        status: 'fail', code, data, message,\n      };\n    };\n\n    ctx.res.error = (code = null, message = null, data = null) => {\n      ctx.status = ctx.status < 500\n        ? statusCodes.INTERNAL_SERVER_ERROR\n        : ctx.status;\n      ctx.body = {\n        status: 'error', code, data, message,\n      };\n    };\n\n    ctx.res.ok = (data, message) => {\n      ctx.status = statusCodes.OK;\n      ctx.res.success(data, message);\n    };\n\n    ctx.res.created = (data, message) => {\n      ctx.status = statusCodes.CREATED;\n      ctx.res.success(data, message);\n    };\n\n    ctx.res.accepted = (data, message) => {\n      ctx.status = statusCodes.ACCEPTED;\n      ctx.res.success(data, message);\n    };\n\n    ctx.res.noContent = (data, message) => {\n      ctx.status = statusCodes.NO_CONTENT;\n      ctx.res.success(data, message);\n    };\n\n    ctx.res.badRequest = (code, message, data) => {\n      ctx.status = statusCodes.BAD_REQUEST;\n      ctx.res.fail(code, message, data);\n    };\n\n    ctx.res.unauthorized = (message, data) => {\n      ctx.status = statusCodes.UNAUTHORIZED;\n      ctx.res.fail(ctx.status, message, data);\n    };\n\n    ctx.res.forbidden = (code, message, data) => {\n      ctx.status = statusCodes.FORBIDDEN;\n      ctx.res.fail(code, message, data);\n    };\n\n    ctx.res.notFound = (code, message, data) => {\n      ctx.status = statusCodes.NOT_FOUND;\n      ctx.res.fail(code, message, data);\n    };\n\n    ctx.res.requestTimeout = (code, message, data) => {\n      ctx.status = statusCodes.REQUEST_TIMEOUT;\n      ctx.res.fail(code, message, data);\n    };\n\n    ctx.res.unprocessableEntity = (code, message, data) => {\n      ctx.status = statusCodes.UNPROCESSABLE_ENTITY;\n      ctx.res.fail(code, message, data);\n    };\n\n    ctx.res.internalServerError = (code, message, data) => {\n      ctx.status = statusCodes.INTERNAL_SERVER_ERROR;\n      ctx.res.error(code, message, data);\n    };\n\n    ctx.res.notImplemented = (code, message, data) => {\n      ctx.status = statusCodes.NOT_IMPLEMENTED;\n      ctx.res.error(code, message, data);\n    };\n\n    ctx.res.badGateway = (code, message, data) => {\n      ctx.status = statusCodes.BAD_GATEWAY;\n      ctx.res.error(code, message, data);\n    };\n\n    ctx.res.serviceUnavailable = (code, message, data) => {\n      ctx.status = statusCodes.SERVICE_UNAVAILABLE;\n      ctx.res.error(code, message, data);\n    };\n\n    ctx.res.gatewayTimeOut = (code, message, data) => {\n      ctx.status = statusCodes.GATEWAY_TIME_OUT;\n      ctx.res.error(code, message, data);\n    };\n    await next();\n  };\n}\n\nmodule.exports = responseHandler;\n"]}