{"version":3,"sources":["../../../app/services/db_config.js"],"names":["require","config","basePath","db","Database","useBasicAuth","process","env","ARANGODB_USERNAME","ARANDODB_PASSWORD","createDatabase","then","console","log","error","err","useDatabase","collection","create","import","result"],"mappings":";;AAAA;;;;AACA;;;;AAEA;AACAA,QAAQ,QAAR,EAAkBC,MAAlB;;AAEA,IAAMC,WAAW,sCAAjB;AACA,IAAMC,KAAK,IAAIC,kBAAJ,aAAuBF,QAAvB,WAAX;;AAEAC,GAAGE,YAAH,CAAgBC,QAAQC,GAAR,CAAYC,iBAA5B,EAA+CF,QAAQC,GAAR,CAAYE,iBAA3D;;AAEAN,GAAGO,cAAH,CAAkB,OAAlB,EAA2BC,IAA3B,CACE;AAAA,SAAMC,QAAQC,GAAR,CAAY,kBAAZ,CAAN;AAAA,CADF,EAEE;AAAA,SAAOD,QAAQE,KAAR,CAAc,4BAAd,EAA4CC,GAA5C,CAAP;AAAA,CAFF;;AAKAZ,GAAGa,WAAH,CAAe,OAAf;;AAEA,IAAMC,aAAad,GAAGc,UAAH,CAAc,aAAd,CAAnB;;AAEA;AACAA,WAAWC,MAAX,GAAoBP,IAApB,CACE;AAAA,SAAMC,QAAQC,GAAR,CAAY,oBAAZ,CAAN;AAAA,CADF,EAEE;AAAA,SAAOD,QAAQE,KAAR,CAAc,8BAAd,EAA8CC,GAA9C,CAAP;AAAA,CAFF;;AAKA;AACAE,WAAWE,MAAX,CAAkB,2BAAlB,EAAmCR,IAAnC,CACE;AAAA,SAAUC,QAAQC,GAAR,CAAY,kBAAZ,EAAgCO,MAAhC,CAAV;AAAA,CADF,EAEE;AAAA,SAAOR,QAAQE,KAAR,CAAc,gBAAd,EAAgCC,GAAhC,CAAP;AAAA,CAFF","file":"db_config.js","sourcesContent":["import Database from 'arangojs';\nimport { generateUsers } from '../data/faker';\n\n// Enables env file that stores confidential keys to be loaded into process.env\nrequire('dotenv').config();\n\nconst basePath = 'cos730-users.mjshika.xyz/api/v0.0.1/';\nconst db = new Database(`http://${basePath}:8529`);\n\ndb.useBasicAuth(process.env.ARANGODB_USERNAME, process.env.ARANDODB_PASSWORD);\n\ndb.createDatabase('Users').then(\n  () => console.log('Database created'),\n  err => console.error('Failed to create database:', err),\n);\n\ndb.useDatabase('Users');\n\nconst collection = db.collection('UserDetails');\n\n// Create a user detail table/collection\ncollection.create().then(\n  () => console.log('Collection created'),\n  err => console.error('Failed to create collection:', err),\n);\n\n// Populate with fake data\ncollection.import(generateUsers()).then(\n  result => console.log('Import complete:', result),\n  err => console.error('Import failed:', err),\n);\n"]}