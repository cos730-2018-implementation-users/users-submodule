{"version":3,"sources":["../../../../test/unit/users/delete.test.js"],"names":["users","require","userId","testUser","username","firstName","lastName","email","password","cell","status","deleted","beforeAll","createUser","then","k","_result","_key","catch","err","Error","test","deleteUser","result","expect","toBeDefined","toBe","afterAll","deleteUserObject","console","log"],"mappings":";;;;AAAA,IAAMA,QAAQC,QAAQ,gCAAR,CAAd;;AAEA,IAAIC,SAAS,EAAb;;AAEA,IAAMC,WAAW;AACfC,YAAU,MADK;AAEfC,aAAW,QAFI;AAGfC,YAAU,QAHK;AAIfC,SAAO,eAJQ;AAKfC,YAAU,QALK;AAMfC,QAAM,YANS;AAOfC,UAAQ,QAPO;AAQfC,WAAS;AARM,CAAjB;;AAWAC,kEAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACFZ,MAAMa,UAAN,CAAiBV,QAAjB,EAA2BW,IAA3B,CAAgC,UAACC,CAAD,EAAO;AAC3Cb,qBAASa,EAAEC,OAAF,CAAU,CAAV,EAAaC,IAAtB;AACD,WAFK,EAEHC,KAFG,CAEG,UAACC,GAAD,EAAS;AAChB,kBAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AACD,WAJK,CADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAV;;AAQAE,KAAK,iCAAL,0DAAwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACjBrB,MAAMsB,UAAN,CAAiBpB,MAAjB,EAAyBY,IAAzB,CAA8B,UAACC,CAAD,EAAO;AACxDb,qBAASa,EAAEC,OAAF,CAAU,CAAV,EAAaC,IAAtB;AACA,mBAAOF,EAAEC,OAAF,CAAU,CAAV,CAAP;AACD,WAHoB,CADiB;;AAAA;AAChCO,gBADgC;;AAKtCC,iBAAOD,MAAP,EAAeE,WAAf;AACAD,iBAAOD,OAAON,IAAd,EAAoBS,IAApB,CAAyBxB,MAAzB;AACAsB,iBAAOD,OAAOZ,OAAd,EAAuBe,IAAvB,CAA4B,IAA5B;;AAPsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxC;;AAUAC,iEAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACD3B,MAAM4B,gBAAN,CAAuB1B,MAAvB,EAA+BY,IAA/B,CAAoC;AAAA,mBAAKe,QAAQC,GAAR,CAAY,gBAAZ,EAA8Bf,CAA9B,CAAL;AAAA,WAApC,EAA2EG,KAA3E,CAAiF,UAACC,GAAD,EAAS;AAC9F,kBAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AACD,WAFK,CADC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAT","file":"delete.test.js","sourcesContent":["const users = require('../../../app/services/database');\n\nlet userId = '';\n\nconst testUser = {\n  username: 'Test',\n  firstName: 'Test 1',\n  lastName: 'Test 2',\n  email: 'test@test.com',\n  password: '123456',\n  cell: '0123456789',\n  status: 'active',\n  deleted: false,\n};\n\nbeforeAll(async () => {\n  await users.createUser(testUser).then((k) => {\n    userId = k._result[0]._key;\n  }).catch((err) => {\n    throw new Error(err);\n  });\n});\n\ntest('Tests whether object is deleted', async () => {\n  const result = await users.deleteUser(userId).then((k) => {\n    userId = k._result[0]._key;\n    return k._result[0];\n  });\n  expect(result).toBeDefined();\n  expect(result._key).toBe(userId);\n  expect(result.deleted).toBe(true);\n});\n\nafterAll(async () => {\n  await users.deleteUserObject(userId).then(k => console.log('User deleted: ', k)).catch((err) => {\n    throw new Error(err);\n  });\n});\n"]}